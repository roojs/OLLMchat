<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"/>
    <title>OLLMvector.VectorMetadata &ndash; ollmchat &ndash; Vala Binding Reference</title>
    <link href="../style.css" rel="stylesheet" type="text/css"/><script src="../scripts.js" type="text/javascript">
    </script>
  </head>
  <body>
    <div class="site_header">OLLMvector.VectorMetadata &ndash; ollmchat Reference Manual</div>
    <div class="site_body">
      <div class="site_navigation">
        <ul class="navi_main">
          <li class="package_index"><a href="../index.html">Packages</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="package"><a href="index.htm">ollmchat</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="namespace"><a href="OLLMvector.html">OLLMvector</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="class">VectorMetadata</li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="property"><a href="OLLMvector.VectorMetadata.@namespace.html">@namespace</a></li>
          <li class="property"><a href="OLLMvector.VectorMetadata.codedoc_end.html">codedoc_end</a></li>
          <li class="property"><a href="OLLMvector.VectorMetadata.codedoc_start.html">codedoc_start</a></li>
          <li class="property"><a href="OLLMvector.VectorMetadata.description.html">description</a></li>
          <li class="property"><a href="OLLMvector.VectorMetadata.element_name.html">element_name</a></li>
          <li class="property"><a href="OLLMvector.VectorMetadata.element_type.html">element_type</a></li>
          <li class="property"><a href="OLLMvector.VectorMetadata.end_line.html">end_line</a></li>
          <li class="property"><a href="OLLMvector.VectorMetadata.file_id.html">file_id</a></li>
          <li class="property"><a href="OLLMvector.VectorMetadata.id.html">id</a></li>
          <li class="property"><a href="OLLMvector.VectorMetadata.parent_class.html">parent_class</a></li>
          <li class="property"><a href="OLLMvector.VectorMetadata.signature.html">signature</a></li>
          <li class="property"><a href="OLLMvector.VectorMetadata.start_line.html">start_line</a></li>
          <li class="property"><a href="OLLMvector.VectorMetadata.vector_id.html">vector_id</a></li>
          <li class="static_method"><a href="OLLMvector.VectorMetadata.get_all_vector_ids.html">get_all_vector_ids</a></li>
          <li class="static_method"><a href="OLLMvector.VectorMetadata.initDB.html">initDB</a></li>
          <li class="static_method"><a href="OLLMvector.VectorMetadata.lookup.html">lookup</a></li>
          <li class="static_method"><a href="OLLMvector.VectorMetadata.lookup_vectors.html">lookup_vectors</a></li>
          <li class="static_method"><a href="OLLMvector.VectorMetadata.query.html">query</a></li>
          <li class="static_method"><a href="OLLMvector.VectorMetadata.reset_database.html">reset_database</a></li>
          <li class="creation_method"><a href="OLLMvector.VectorMetadata.VectorMetadata.html">VectorMetadata</a></li>
          <li class="method"><a href="OLLMvector.VectorMetadata.removeFromDB.html">removeFromDB</a></li>
          <li class="method"><a href="OLLMvector.VectorMetadata.saveToDB.html">saveToDB</a></li>
        </ul>
      </div>
      <div class="site_content">
        <h1 class="main_title">VectorMetadata</h1>
        <hr class="main_hr"/>
        <h2 class="main_title">Object Hierarchy:</h2>
        
        <img class="main_diagram" usemap="#OLLMvector.VectorMetadata" alt="Object hierarchy for VectorMetadata" src="img/OLLMvector.VectorMetadata.png"/>
      

      <map id="OLLMvector.VectorMetadata" name="OLLMvector.VectorMetadata">
<area shape="rect" id="node1" href="OLLMvector.VectorMetadata.html" title="OLLMvector.VectorMetadata" alt="" coords="5,101,244,149"/>
</map>

        <h2 class="main_title">Description:</h2>
        <div class="main_code_definition"><span class="main_keyword">public</span> <span class="main_keyword">class</span> <b><span class="class">VectorMetadata</span></b> : <span class="main_type"><span class="class">Object</span></span>
        </div>
        <div class="description">
          <p>Represents vector metadata stored in SQL database.</p>
          <p>Maps vector_id (from FAISS) to code location information. This class provides the link between vector embeddings in FAISS and actual code
            locations in source files. Used by both the indexing pipeline (to store metadata) and search operations (to retrieve code snippets).</p>
          <p>The class uses SQ.Query for database operations and provides methods for querying metadata by file_id, element_type, and other filters.
          </p>
          <h2>Usage Example </h2>
          <p><pre class="main_source"><code><span class="main_comment">// Initialize database schema</span><br/>VectorMetadata.initDB(sql_db);<br/><br/><span class="main_comment">// Create metadata entry</span><br/><span class="main_keyword">var</span> metadata = <span class="main_keyword">new</span> VectorMetadata() {<br/>    vector_id = <span class="main_literal">123</span>,<br/>    file_id = file.id,<br/>    start_line = <span class="main_literal">10</span>,<br/>    end_line = <span class="main_literal">25</span>,<br/>    element_type = <span class="main_literal">"method"</span>,<br/>    element_name = <span class="main_literal">"process_data"</span><br/>};<br/>metadata.insert(sql_db);<br/><br/><span class="main_comment">// Query metadata</span><br/><span class="main_keyword">var</span> query = VectorMetadata.query(sql_db);<br/><span class="main_keyword">var</span> results = query.select(<span class="main_literal">"SELECT * FROM vector_metadata WHERE file_id = $file_id"</span>);</code></pre>
          </p>
        </div><br/>
        <div class="namespace_note"><b>Namespace:</b> <a href="OLLMvector.html">OLLMvector</a>
        </div>
        <div class="package_note"><b>Package:</b> <a href="index.htm">ollmchat</a>
        </div>
        <h2 class="main_title">Content:</h2>
        <h3 class="main_title">Properties:</h3>
        <ul class="navi_inline">
          <li class="property"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_basic_type"><span class="class">string</span></span> <b><a href="OLLMvector.VectorMetadata.@namespace.html" class="property">@namespace</a></b> { <span class="main_keyword">get</span>; <span class="main_keyword">set</span>; }
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Namespace that contains this element (e.g., "OLLMvector.Indexing"). 
                Not stored in database - used for analysis only.</span>
            </div></li>
          <li class="property"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_basic_type"><span class="struct">int</span></span> <b><a href="OLLMvector.VectorMetadata.codedoc_end.html" class="property">codedoc_end</a></b> { <span class="main_keyword">get</span>; <span class="main_keyword">set</span>; }
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Ending line number of documentation block (1-indexed, optional). Not 
                stored in database - used for analysis only. Use -1 to indicate no documentation.</span>
            </div></li>
          <li class="property"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_basic_type"><span class="struct">int</span></span> <b><a href="OLLMvector.VectorMetadata.codedoc_start.html" class="property">codedoc_start</a></b> { <span class="main_keyword">get</span>; <span class="main_keyword">set</span>; }
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Starting line number of documentation block (1-indexed, optional). Not
                stored in database - used for analysis only. Use -1 to indicate no documentation.</span>
            </div></li>
          <li class="property"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_basic_type"><span class="class">string</span></span> <b><a href="OLLMvector.VectorMetadata.description.html" class="property">description</a></b> { <span class="main_keyword">get</span>; <span class="main_keyword">set</span>; }
            </span>
            <div class="leaf_brief_description"><span class="brief_description">One-line description generated by LLM analysis. Stored in database for
                future rebuild operations. Empty string if LLM analysis was skipped (e.g., for simple properties, enum types without docs).</span>
            </div></li>
          <li class="property"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_basic_type"><span class="class">string</span></span> <b><a href="OLLMvector.VectorMetadata.element_name.html" class="property">element_name</a></b> { <span class="main_keyword">get</span>; <span class="main_keyword">set</span>; }
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Element name (e.g., "DatabaseManager", "execute_query", etc.).</span>
            </div></li>
          <li class="property"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_basic_type"><span class="class">string</span></span> <b><a href="OLLMvector.VectorMetadata.element_type.html" class="property">element_type</a></b> { <span class="main_keyword">get</span>; <span class="main_keyword">set</span>; }
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Element type (e.g., "class", "method", "function", "property", etc.).
              </span>
            </div></li>
          <li class="property"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_basic_type"><span class="struct">int</span></span> <b><a href="OLLMvector.VectorMetadata.end_line.html" class="property">end_line</a></b> { <span class="main_keyword">get</span>; <span class="main_keyword">set</span>; }
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Ending line number (1-indexed).</span>
            </div></li>
          <li class="property"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_basic_type"><span class="struct">int64</span></span> <b><a href="OLLMvector.VectorMetadata.file_id.html" class="property">file_id</a></b> { <span class="main_keyword">get</span>; <span class="main_keyword">set</span>; }
            </span>
            <div class="leaf_brief_description"><span class="brief_description">File ID (references OLLMfiles.File.id).</span>
            </div></li>
          <li class="property"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_basic_type"><span class="struct">int64</span></span> <b><a href="OLLMvector.VectorMetadata.id.html" class="property">id</a></b> { <span class="main_keyword">get</span>; <span class="main_keyword">set</span>; }
            </span>
            <div class="leaf_brief_description"><span class="brief_description">ID property for database operations (PRIMARY KEY, auto-increment). 
                Used by SQ.Query.updateById/deleteId for database operations. This is automatically generated by the database and should not be set 
                manually.</span>
            </div></li>
          <li class="property"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_basic_type"><span class="class">string</span></span> <b><a href="OLLMvector.VectorMetadata.parent_class.html" class="property">parent_class</a></b> { <span class="main_keyword">get</span>; <span class="main_keyword">set</span>; }
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Parent class/struct/interface that contains this element (e.g., 
                "Tree"). Not stored in database - used for analysis only.</span>
            </div></li>
          <li class="property"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_basic_type"><span class="class">string</span></span> <b><a href="OLLMvector.VectorMetadata.signature.html" class="property">signature</a></b> { <span class="main_keyword">get</span>; <span class="main_keyword">set</span>; }
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Element signature (e.g., "public async void parse() throws 
                GLib.Error"). Not stored in database - used for analysis only.</span>
            </div></li>
          <li class="property"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_basic_type"><span class="struct">int</span></span> <b><a href="OLLMvector.VectorMetadata.start_line.html" class="property">start_line</a></b> { <span class="main_keyword">get</span>; <span class="main_keyword">set</span>; }
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Starting line number (1-indexed).</span>
            </div></li>
          <li class="property"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_basic_type"><span class="struct">int64</span></span> <b><a href="OLLMvector.VectorMetadata.vector_id.html" class="property">vector_id</a></b> { <span class="main_keyword">get</span>; <span class="main_keyword">set</span>; }
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Vector ID from FAISS index. This is the actual property used 
                throughout the codebase for vector operations. This is separate from the database id and represents the FAISS vector index.</span>
            </div></li>
        </ul>
        <h3 class="main_title">Static methods:</h3>
        <ul class="navi_inline">
          <li class="static_method"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_keyword">static</span> <span class="main_type"><span class="class">HashSet</span></span>&lt;<span class="main_basic_type"><span class="struct">int64</span></span>?&gt; <b><a href="OLLMvector.VectorMetadata.get_all_vector_ids.html" class="static_method">get_all_vector_ids</a></b> (<span class="main_type"><a href="SQ.Database.html" class="class">Database</a></span> db)
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Get all vector_ids from the metadata table.</span>
            </div></li>
          <li class="static_method"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_keyword">static</span> <span class="main_keyword">void</span> <b><a href="OLLMvector.VectorMetadata.initDB.html" class="static_method">initDB</a></b> (<span class="main_type"><a href="SQ.Database.html" class="class">Database</a></span> db)
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Initialize database table for vector_metadata objects.</span>
            </div></li>
          <li class="static_method"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_keyword">static</span> <span class="main_type"><span class="class">VectorMetadata</span></span>? <b><a href="OLLMvector.VectorMetadata.lookup.html" class="static_method">lookup</a></b> (<span class="main_type"><a href="SQ.Database.html" class="class">Database</a></span> db, <span class="main_basic_type"><span class="class">string</span></span> key, <span class="main_basic_type"><span class="struct">int64</span></span> value)
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Generic lookup method for vector metadata.</span>
            </div></li>
          <li class="static_method"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_keyword">static</span> <span class="main_type"><span class="class">ArrayList</span></span>&lt;<span class="main_type"><span class="class">VectorMetadata</span></span>&gt; <b><a href="OLLMvector.VectorMetadata.lookup_vectors.html" class="static_method">lookup_vectors</a></b> (<span class="main_type"><a href="SQ.Database.html" class="class">Database</a></span> db, <span class="main_basic_type"><span class="struct">int64</span></span>[] vector_ids)
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Lookup metadata for multiple vector_ids (for search results).</span>
            </div></li>
          <li class="static_method"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_keyword">static</span> <span class="main_type"><a href="SQ.Query.html" class="class">Query</a></span>&lt;<span class="main_type"><span class="class">VectorMetadata</span></span>&gt; <b><a href="OLLMvector.VectorMetadata.query.html" class="static_method">query</a></b> (<span class="main_type"><a href="SQ.Database.html" class="class">Database</a></span> db)
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Create a query object for vector_metadata table.</span>
            </div></li>
          <li class="static_method"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_keyword">static</span> <span class="main_keyword">void</span> <b><a href="OLLMvector.VectorMetadata.reset_database.html" class="static_method">reset_database</a></b> (<span class="main_type"><a href="SQ.Database.html" class="class">Database</a></span> sql_db, <span class="main_basic_type"><span class="class">string</span></span> vector_db_path) <span class="main_keyword">throws</span> <span class="main_type"><span class="class">Error</span></span>
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Resets the vector database.</span>
            </div></li>
        </ul>
        <h3 class="main_title">Creation methods:</h3>
        <ul class="navi_inline">
          <li class="creation_method"><span class="leaf_code_definition"><span class="main_keyword">public</span> <b><a href="OLLMvector.VectorMetadata.VectorMetadata.html" class="creation_method">VectorMetadata</a></b> ()
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Constructor.</span>
            </div></li>
        </ul>
        <h3 class="main_title">Methods:</h3>
        <ul class="navi_inline">
          <li class="method"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_keyword">void</span> <b><a href="OLLMvector.VectorMetadata.removeFromDB.html" class="method">removeFromDB</a></b> (<span class="main_type"><a href="SQ.Database.html" class="class">Database</a></span> db)
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Remove this VectorMetadata from the database.</span>
            </div></li>
          <li class="method"><span class="leaf_code_definition"><span class="main_keyword">public</span> <span class="main_keyword">void</span> <b><a href="OLLMvector.VectorMetadata.saveToDB.html" class="method">saveToDB</a></b> (<span class="main_type"><a href="SQ.Database.html" class="class">Database</a></span> db, <span class="main_basic_type"><span class="struct">bool</span></span> sync = <span class="main_literal">false</span>)
            </span>
            <div class="leaf_brief_description"><span class="brief_description">Save this VectorMetadata to the database.</span>
            </div></li>
        </ul>
        <h3 class="main_title">Inherited Members:</h3>
        <div class="box">
          <div class="headline" onclick="toggle_box (this, 'box-content-333')">All known members inherited from class GLib.Object</div>
          <div class="content" id="box-content-333">
            <div class="column">
              <ul class="navi_inline">
                <li class="method">@get</li>
                <li class="static_method">@new</li>
                <li class="method">@ref</li>
                <li class="method">@set</li>
                <li class="method">add_toggle_ref</li>
                <li class="method">add_weak_pointer</li>
                <li class="method">bind_property</li>
                <li class="method">connect</li>
                <li class="virtual_method">constructed</li>
                <li class="method">disconnect</li>
                <li class="virtual_method">dispose</li>
                <li class="method">dup_data</li>
                <li class="method">dup_qdata</li>
                <li class="method">force_floating</li>
                <li class="method">freeze_notify</li>
                <li class="method">get_class</li>
                <li class="method">get_data</li>
              </ul>
            </div>
            <div class="column">
              <ul class="navi_inline">
                <li class="method">get_property</li>
                <li class="method">get_qdata</li>
                <li class="method">get_type</li>
                <li class="method">getv</li>
                <li class="static_method">interface_find_property</li>
                <li class="static_method">interface_install_property</li>
                <li class="static_method">interface_list_properties</li>
                <li class="method">is_floating</li>
                <li class="static_method">new_valist</li>
                <li class="static_method">new_with_properties</li>
                <li class="static_method">newv</li>
                <li class="signal">notify</li>
                <li class="method">notify_property</li>
                <li class="field">ref_count</li>
                <li class="method">ref_sink</li>
                <li class="method">remove_toggle_ref</li>
                <li class="method">remove_weak_pointer</li>
              </ul>
            </div>
            <div class="column">
              <ul class="navi_inline">
                <li class="method">replace_data</li>
                <li class="method">replace_qdata</li>
                <li class="method">set_data</li>
                <li class="method">set_data_full</li>
                <li class="method">set_property</li>
                <li class="method">set_qdata</li>
                <li class="method">set_qdata_full</li>
                <li class="method">set_valist</li>
                <li class="method">setv</li>
                <li class="method">steal_data</li>
                <li class="method">steal_qdata</li>
                <li class="method">thaw_notify</li>
                <li class="method">unref</li>
                <li class="method">watch_closure</li>
                <li class="method">weak_ref</li>
                <li class="method">weak_unref</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div><br/>
    <div class="site_footer">Generated by <a href="https://docs.vala.dev"><kbd>valadoc</kbd></a>
    </div>
  </body>
</html>