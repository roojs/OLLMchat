# Table support Phase 2: HTML and Dummy renderers (1.10.2)

Part of the phased implementation for markdown table support; see **1.8.2-table-support-current-design.md** for the overall design and phase order. Depends on **1.10.1-renderer-interface.md** (Renderer interface).

---

## Goal

Add simple table support in **HtmlRender** and **DummyRenderer** so the table callbacks produce visible output (HTML tags or log lines).

## File: libocmarkdown/HtmlRender.vala

Override the four table methods. Follow the same pattern as `on_p`, `on_ul`, etc.: on start, append opening tag and push to `open_tags`; on end, call `close_tag` to pop and emit closing tag.

```vala
public override void on_table(bool is_start)
{
    if (!is_start) {
        this.close_tag("table");
        return;
    }
    this.append_indent(false);
    this.html_output.append("<table>\n");
    this.open_tags.add("table");
}

public override void on_table_row(bool is_start)
{
    if (!is_start) {
        this.close_tag("tr");
        return;
    }
    this.append_indent(false);
    this.html_output.append("<tr>\n");
    this.open_tags.add("tr");
}

public override void on_table_hcell(bool is_start)
{
    if (!is_start) {
        this.close_tag("th");
        return;
    }
    this.append_indent(false);
    this.html_output.append("<th>");
    this.open_tags.add("th");
}

public override void on_table_cell(bool is_start)
{
    if (!is_start) {
        this.close_tag("td");
        return;
    }
    this.append_indent(false);
    this.html_output.append("<td>");
    this.open_tags.add("td");
}
```

## File: libocmarkdown/DummyRenderer.vala

Override the four table methods to log (same style as `on_quote`, `on_ul`, etc.):

```vala
public override void on_table(bool is_start)
{
    if (!is_start) {
        indent_level--;
        print_indent();
        stdout.printf("END: <table>\n");
        return;
    }
    print_indent();
    stdout.printf("START: <table>\n");
    indent_level++;
}

public override void on_table_row(bool is_start)
{
    if (!is_start) {
        indent_level--;
        print_indent();
        stdout.printf("END: <tr>\n");
        return;
    }
    print_indent();
    stdout.printf("START: <tr>\n");
    indent_level++;
}

public override void on_table_hcell(bool is_start)
{
    if (!is_start) {
        indent_level--;
        print_indent();
        stdout.printf("END: <th>\n");
        return;
    }
    print_indent();
    stdout.printf("START: <th>\n");
    indent_level++;
}

public override void on_table_cell(bool is_start)
{
    if (!is_start) {
        indent_level--;
        print_indent();
        stdout.printf("END: <td>\n");
        return;
    }
    print_indent();
    stdout.printf("START: <td>\n");
    indent_level++;
}
```

## Notes

- Cell content (text, bold, etc.) is emitted by the existing callbacks (on_text, on_strong, â€¦) between cell start and cell end, so no change needed there.
- Test by manually calling the renderer's table methods from a small test or by proceeding to later phases and parsing a table.
