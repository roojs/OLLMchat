# 1.3. Configuration Overview

## Overview

This document provides an overview of the configuration system for OLLMchat, including multiple client support, configuration classes, UI components, and related features.

## Status

⏳ **IN PROGRESS** - Core configuration system implemented. UI components partially implemented.

## Related Plans

- **1.3.1** - Configuration Classes (core classes implemented)
- **1.3.2** - Configuration Interface (SettingsDialog and ConnectionsPage implemented)
- **1.3.3** - Configuration Bugs (completed)
- **1.3.4** - Pulling Models (completed)
- **1.3.5** - Tools Page and Tool Configuration (TODO)
- **1.3.6** - Models Page and Model Usage Configuration (TODO)
- **1.3.7** - Multiple Client Configuration (TODO)
- **1.4** - Client Configuration Setup
- **1.5** - Model List Management

## Configuration System Architecture

The configuration system is built around Config2, which supports:
- Multiple connections (Ollama instances, OpenAI, etc.)
- Per-model option overrides
- Model usage configurations (default_model, title_model, tool configs)
- GType registration for extensible configuration sections

### Config2 Format Structure

```
Config2 (Settings.Config2)
├── connections (Map<string, Connection>)
│   └── [connection_url] → Connection
│       ├── name (string)
│       ├── url (string)
│       ├── api_key (string)
│       ├── is_default (bool)
│       └── hidden_models (ArrayList<string>)
│
├── model_options (Map<string, Call.Options>)
│   └── [model_name] → Call.Options
│
└── usage (Map<string, Object>)
    └── [usage_key] → Object (registered via register_type())
        ├── "default_model" → ModelUsage
        ├── "title_model" → ModelUsage
        └── External configs (e.g., "ocvector.embed" → ModelUsage)
```

## Implementation Status

### ✅ Completed
- **Core Configuration Classes**: Config1, Config2, Connection, ModelUsage
- **Configuration Migration**: Config1 to Config2 migration working
- **Serialization**: Gee collection serialization, options serialization with underscore/hyphen handling
- **UI Components**: SettingsDialog, ConnectionsPage, ConnectionAdd
- **Model Pulling**: Add Model button with searchable dialog, background pull operations

### ⏳ In Progress / TODO
- **ModelsPage**: Model list and configuration UI
- **ToolsPage**: Tool configuration UI
- **Multiple Client Support**: Full implementation of switching between clients

## Configuration Classes

See [1.3.1 - Configuration Classes](1.3.1-DONE-configuration-classes.md) for detailed information about:
- Connection configuration
- Model usage configuration
- Config2 structure
- Serialization details

## UI Components

See [1.3.2 - Configuration Interface](1.3.2-DONE-configuration-interface.md) for detailed information about:
- SettingsDialog structure
- ConnectionsPage implementation
- ModelsPage design (see also 1.3.6)
- ToolsPage design (see also 1.3.5)

## Migration

See [1.3.3 - Configuration Bugs](1.3.3-DONE-config-bugs.md) for information about:
- Config1 to Config2 migration
- Model and title_model handling
- Think property handling

## Future Work

- **1.3.5**: Tools Page and Tool Configuration
- **1.3.6**: Models Page and Model Usage Configuration
- **1.3.7**: Multiple Client Configuration (full implementation)

