# 2.20. Codebase Scanner Improvements

## Status

‚è≥ **PENDING**

## Purpose

Improve the codebase scanner to provide folder-level and project-level summaries, optimize indexing with MD5-based caching, ensure documentation is properly indexed, and add support for binary file analysis (images). This would be a huge advantage to the LLM to have information about the project it's working on.

## Implementation Phases

This plan is broken down into 6 distinct sub-plans that can be implemented incrementally:

1. **[2.20.1 - MD5-Based Incremental Analysis](2.20.1-md5-incremental-analysis.md)** - Add element-level caching to avoid redundant LLM calls
2. **[2.20.2 - Documentation File Verification](2.20.2-documentation-verification.md)** - Ensure all documentation files are properly indexed
3. **[2.20.3 - Binary File Handling - Image Analysis](2.20.3-binary-file-image-analysis.md)** - Add vision model support for image indexing
4. **[2.20.4 - Folder-Level Summaries](2.20.4-folder-level-summaries.md)** - Generate one-line descriptions for each folder
5. **[2.20.5 - Project-Level Summaries](2.20.5-project-level-summaries.md)** - Generate detailed project descriptions with coding standards detection
6. **[2.20.6 - Integration & Testing](2.20.6-integration-testing.md)** - End-to-end testing and optimization

## Overview of Enhancements

This plan includes several enhancements to the codebase scanner:

- **MD5-Based Incremental Analysis**: Element-level caching to avoid redundant LLM calls for unchanged code
- **Documentation File Verification**: Ensure all documentation files are properly indexed and searchable
- **Binary File Handling**: Image analysis using vision models to make images searchable by content
- **Folder-Level Summaries**: One-line descriptions for each directory/folder
- **Project-Level Summaries**: Detailed project descriptions with coding standards detection

## Benefits

- LLM gets better context about the project structure
- Faster access to project information
- Better understanding of code organization
- Can provide project overview to agents automatically

## Sub-Plans

See individual sub-plans for detailed implementation requirements:

- [2.20.1 - MD5-Based Incremental Analysis](2.20.1-md5-incremental-analysis.md)
- [2.20.2 - Documentation File Verification](2.20.2-documentation-verification.md)
- [2.20.3 - Binary File Handling - Image Analysis](2.20.3-binary-file-image-analysis.md)
- [2.20.4 - Folder-Level Summaries](2.20.4-folder-level-summaries.md)
- [2.20.5 - Project-Level Summaries](2.20.5-project-level-summaries.md)
- [2.20.6 - Integration & Testing](2.20.6-integration-testing.md)

## Implementation Notes

When searching or providing context:
- Query `vector_metadata` WHERE `element_type = 'folder'` to get folder descriptions
- Query `vector_metadata` WHERE `element_type = 'project'` to get project description
- These are NOT in FAISS, so they're retrieved directly from SQL database
- Can be included in agent context or codebase search results

## Related Plans

- 2.10-codebase-search-tool.md - Existing codebase search infrastructure
- 2.18-DONE-agent-tool.md - Agent tools that could benefit from project context
- 4.7-rules-system.md - Rules system for coding standards (may integrate with project analysis)
