# 4.5.1. Rules Support for Code Assistant

## Overview

Add rules system support to the Code Assistant agent, allowing coding rules to be injected into the prompting system. This enables users to define project-specific or global coding standards, conventions, and guidelines that the code assistant should follow.

## Status

‚è≥ **TODO** - To be implemented.

## Related Plans

- **4.5** - Coding Agent Missing Bits (parent plan)
- **4.7** - Rules System (general rules system architecture)

## Goals

- Allow users to define coding rules (project-specific or global)
- Inject rules into Code Assistant system prompts
- Support multiple rule sources (project config, global config, user-defined)
- Rules should be context-aware (language-specific, project-specific)

## Implementation Details

### Rule Sources

1. **Project-specific rules** - Stored in project configuration
2. **Global rules** - Stored in user configuration
3. **Language-specific rules** - Rules that apply only to specific programming languages

### Integration with Code Assistant

- Rules should be injected into the system prompt
- Rules should be formatted clearly in the prompt
- Rules should be updated when project changes or rules are modified

## Files to Modify

- `liboccoder/Prompt/CodeAssistant.vala` - Add rules injection into system prompt
- `libollmchat/Settings/Config2.vala` - Add rules storage (if needed)
- `libocfiles/ProjectManager.vala` - Add project-specific rules support (if needed)

## Future Enhancements

- Rule validation
- Rule templates
- Rule sharing between projects
- Rule versioning

