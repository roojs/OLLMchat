# 2.9. Web Fetch Tool

## Overview

Implementation of WebFetchTool for fetching web content with automatic format detection and conversion.

## Status

⏳ **TODO** - To be implemented.

## Implementation Details

### Design Considerations
- Designed to be extensible - WebSearchTool will extend this class
- Use protected methods for HTTP fetching logic so subclasses can reuse
- Keep core fetching logic separate from format conversion for reusability

### Format Handling Rules
- **Automatic format detection based on Content-Type**:
  - `image/*` → automatically converted to base64 (regardless of format parameter)
  - `text/*` → raw format (except HTML which converts to markdown if format="markdown")
  - `application/json` → raw format
  - Any non-text content type → base64 (regardless of format parameter)
- **User-specified format parameter** only applies when content is text/HTML

### Features
- HTTP method support (GET or POST)
- URL fetching
- POST data support (optional)
- Output format options: "markdown", "raw", or "base64" (default: "markdown")
- Return markdown version of fetched content (using HTML2Markdown utility)
- Authentication config file loading (`~/.config/ollama/tools/web_fetch.json`) - Future enhancement

### Files
- `src/OLLMchat/Tools/WebFetchTool.vala` (to be created)

### Testing
- Test with various content types
- Test format conversion
- Add to meson.build
