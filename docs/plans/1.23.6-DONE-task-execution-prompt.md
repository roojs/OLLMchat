# 1.23.6 Task Execution Prompt

## Overview

Sub-plan of 1.23.2: **create the prompt** (and executor skill content) for **task execution**. The **actual process(es) related to the skill have already occurred** before this step runs — e.g. one or more tool runs (code search, API call, etc.) were executed and produced results. A **skill may use more than one tool**; task refinement generates all tool calls for the task, and the Runner runs them. The **interpreter** (this role) **receives the output from those executions** — which may be **output from multiple tool calls** — and **interprets** them collectively. It does not run the tools itself; it interprets the results and produces a result summary (and optionally a details artifact) so that downstream steps (e.g. refinement, post-completion) know what was found and whether more work is needed. This plan defines **only** what we tell the interpreter and what we ask it to produce. The interpreter is implemented as a **skill** in `resources/skills` (each executor skill has a body that acts as the prompt/instructions). Scope: **what the interpreter is told** (role, input: query + **skill definition** (the skill file content — key for summation) + **output from one or more tool/skill executions** and any other precursor), **what we ask it to produce** (output format below). The interpreter **does not** write to the filesystem; it only produces output in the required format. How that input is delivered (precursor), and how its output is parsed, stored, or used, is defined in 1.23.11, not here.

## Status

**DONE** — This plan has been completed. The task execution (interpreter) prompt has been implemented in **`resources/skill-prompts/task_execution.md`**. The Runner should load this prompt when invoking the interpreter (executor), splitting on `---` for system vs user message, and inject `{query}`, `{skill_definition}` (content of the task's executor skill file from `resources/skills`), and `{precursor}` per 1.23.11.

**Completed:** Interpreter prompt implemented in `resources/skill-prompts/task_execution.md`. Do **not** add "Completed" or similar markers to the prompt file itself — prompt files in `skill-prompts` are content (consumed by the Runner), not documents to be marked done.

## Dependencies

- Plan 1.23.2 (Three Prompt Types and Orchestration).

## Scope

- **Task execution prompt/skill:** The interpreter is implemented as a skill file (e.g. in `resources/skills`) whose body is the prompt. The **skill’s underlying process(es) have already run** — there may be **multiple tool calls** (e.g. several code searches, mixed tools); the interpreter receives **the output from all of those tool runs** and interprets them. This plan defines the **instructions** and **output format** only:
  - **Instructions:** The interpreter receives a **query**, the **skill definition** (the skill file content — it has key information that helps with the summation), and **reference/precursor contents**, which include **output from one or more tool/skill executions** that already occurred (e.g. multiple search results, API responses). Its job is to **interpret** those outputs (collectively), using the skill definition to guide what to emphasise in the summary, and produce a **result summary** (required) and optionally a **details** artifact. The summary should communicate what was found and whether the outcome is **complete** (e.g. “we’ve output the information; it’s complete; it’s all we need”) or **more work is needed** (e.g. “we probably need to do some more searching”) so that refinement or post-completion can add another task (e.g. another set of queries) if required. It must **not** output a task list.
  - **Result summary:** Required. This is what we treat as the **result of the task operation**. It should be interpretable by downstream steps (e.g. “complete” vs “need more work”).
  - **Details:** Optional. If the interpreter produces substantive content (e.g. synthesised findings, plan text, markdown, code), it is output in a delimited block with a filename. Content is markdown with code blocks; we do not process it — it is output as-is. The format must allow the output to be stored and referenced (how is in 1.23.11).
- Individual executor skills may add domain-specific instructions but must conform to this output format.

## 1. Prompt/skill content (to expand)

- **Role and task:** What we tell the interpreter: the **skill’s tool run(s) have already occurred** (there may be **multiple** tool calls, e.g. several searches); you receive the **output from those executions** and your job is to **interpret** them (collectively). You produce a **result summary** (required) and optionally one **details** artifact. You must **not** output a task list — only a summary and, if needed, one artifact (the details). The **summary is the result of the task operation** and should indicate whether the result is **complete** or **more work is needed** (e.g. more searching) so refinement/post-completion can add further tasks if necessary. Content (details) is optional.
- **Input:** Query (natural language) + reference/precursor contents. The precursor includes **output from one or more tool/skill executions** that already occurred (e.g. multiple code search results, API responses). The prompt describes what the interpreter will receive: a query and a precursor area containing **those execution outputs** (possibly from multiple tool calls) plus any other referenced content (files, prior task outputs, etc.). How that input is assembled and injected is defined in 1.23.11.
- **Output we ask for:** **(1) Result summary** (required) — Interpret the execution output and summarise: what was found; whether it is **complete** (e.g. “we’ve created this output; the information is complete; it’s all we need”) or **more work is needed** (e.g. “we probably need to do some more searching”). This allows refinement or post-completion to add another task (e.g. another set of queries) when needed. **(2) Details** (optional) — If the interpreter produces substantive content (e.g. synthesised findings, markdown with code blocks), it must be presented in a delimited block with a filename (e.g. fenced code block with filename in first line or info string, or **File:** name then content). The interpreter must indicate the output filename so the content can be stored and referenced.

## 2. Output format (to expand)

- **Result summary** (required) — Heading or label; placement (before the details if present). This is the **result of the task operation**. Must always be present.
- **Details / single artifact** (optional) — If the task produces content to store (e.g. markdown, code), exact format: fenced block with filename, or dedicated section. File identity (filename) must be clear. Content is markdown with code blocks; no processing — output as-is.
- **No task list** — The interpreter must **not** output a task list. Its output may **suggest** that other things should be done (e.g. "we probably need more searching", "these areas need follow-up"); that is fine. This process is **not** responsible for producing tasks — it only produces a result summary (and optionally a details artifact). The point is to **signal** that there may be things needing doing (e.g. in the result summary: "complete" vs "more work needed") so that **task creation continuation (post-completion)** can act on the information it was given and add or refine tasks as needed. Instruction in the prompt: if the model outputs a task list anyway, the Runner treats it as informational only; we use the result summary and optional details only.

## 3. Executor output examples (content only)

These describe **what** the executor outputs (prompt requirements), not who consumes it.

- **Code search (or similar) wrapper:** The skill’s tool run(s) (e.g. one or more code searches) have already run; the interpreter receives the output from **those** runs (possibly **multiple** tool outputs). It **interprets** them collectively and outputs a result summary such as: “We’ve created this output; we’ve written the information and it’s complete; it’s all we need” OR “We probably need to do some more searching.” In the latter case, refinement or post-completion can add another task to do another set of queries. Optionally a details block with synthesised findings (e.g. `findings.md`).
- **Plan creation:** Executor output = **plan content + summary**. Details block contains the plan (e.g. markdown).
- **Plan refinement:** Interpreter output = **plan with more content + summary**. Details block contains the refined plan.
- **Add to plan / directive:** Executor output may state that **this needs to be added to a plan** (or similar), with the content in the details block. Applying that content to a plan file is outside this plan (see 1.23.11).
- **Summary only:** Interpreter output = result summary only (no details block).
- **Summary + one file:** Executor output = result summary + one fenced block with filename and content (e.g. `Component.jsx`, `summary.md`).

## 4. Examples for output format (to expand)

- Example: result summary (required) only.
- Example: result summary + one fenced block with filename and markdown/code content.
- Example: summary + one code block with `Component.jsx`.

## Placeholders (for Runner)

- **System message:** The prompt body below (before the first `---` in the template) is the system message. No placeholders in the system content for the generic interpreter; domain-specific executor skills may add their own.
- **User message:** Built by the Runner. **{query}** — the natural-language task query (what we need from this task). **{skill_definition}** — the content of the skill definition file (the executor skill from `resources/skills`); it has key information that helps with the summation (what the skill does, what to emphasise). **{precursor}** — the assembled precursor content: output from one or more tool/skill executions that already ran for this task, plus any other referenced content (resolved links: current file, project description, prior task outputs, plan sections). The Runner injects these per 1.23.11.

## Rule: no annotations below the divider

When this plan is expanded with the concrete executor prompt/skill content, any content below a `---` must be **exact prompt content only**. No annotations, no explanatory text, no parenthetical notes may appear below the divider. Placeholder tokens are the only exception. All annotation and placeholder meanings belong in the sections above the divider. This applies to all prompt-creation plans (1.23.3, 1.23.4, 1.23.5, 1.23.6).

## Deliverable

- The **interpreter prompt/skill instructions** and **output format** we use for this role. The interpreter is implemented as a skill in `resources/skills` (per 1.23.2: "executor" skills in the Runner; the role is interpreter). Parsing, storage, and use of interpreter output are defined in Plan 1.23.11 (Runner implementation).

## References

- Plan 1.23.2 §1 (task execution), §2 (task structure).
- Plan 1.23.3 (task creation): task list uses precursor references; the executor receives the resolved contents for what the task referenced (injection and format are in 1.23.11).
- Plan 1.23.11 (Runner implementation): how precursor is built and injected when invoking the executor; how executor output is parsed, stored, and used (e.g. applying changes, plan modification).

---

You are an **interpreter**. The work for this task has **already been run** — one or more tools or skills (e.g. code search, API call) have been executed and produced results. You **receive the output from those executions** (which may be from **multiple** tool calls) and your job is to **interpret** them collectively. You do **not** run tools or produce a task list. You only produce a **result summary** and, if needed, one **details** artifact.

## What you receive

- **Query** — What we need from this task (natural language).
- **Skill definition** — The skill definition file content. Use it to guide your interpretation and summation (what the skill does, what to emphasise in the result summary).
- **Precursor** — The output from the tool/skill execution(s) that already ran for this task (e.g. search results, API responses), plus any other referenced content (files, prior task outputs, plan sections) that the task referenced. You may receive output from **multiple** tool runs; interpret them together.

## Output format

Produce **only** the following. Do **not** output a task list.

1. **Result summary** (required) — One clear summary of what was found or produced and whether the outcome is **complete** (e.g. "We have the information we need; it is complete") or **more work is needed** (e.g. "We probably need to do more searching" or "These areas need follow-up"). Downstream steps (task creation continuation) use this to decide whether to add or refine tasks; you only need to signal it.
2. **Details** (optional) — If you produce substantive content (e.g. synthesised findings, markdown, code), output it in a **fenced code block** with a **filename** in the first line or info string (e.g. `findings.md` or `Component.jsx`). Content as-is; no processing. The Runner will store it and may use it for follow-up tasks.

Your output may **suggest** that other things should be done; that is fine. This process does **not** produce tasks — it only produces the summary (and optional details) so that task creation continuation can act on the information. If you find yourself listing tasks or next steps, fold that into the result summary as "more work is needed" or "complete" and any short explanation; do not output a task list.

---

{query}

## Skill definition

{skill_definition}

## Precursor

{precursor}