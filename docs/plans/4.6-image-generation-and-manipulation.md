# 4.6. Image Generation and Manipulation

## Overview

Image generation and manipulation support, including displaying images generated by the LLM in the chat view, PDF support, and image handling.

## Status

‚è≥ **TODO** - To be implemented.

## Blocker: Ollama Image Support

**None of the image generation or manipulation features below are feasible until Ollama fully supports image generation on all platforms.** Until then, this plan is blocked for the LLM-generated image and manipulation parts.

## Feasible Alternative: Document Generation via Tools and Skills

We *could* support **document generation** in the meantime using **tools** and **skills** (e.g. generating markdown, HTML, or structured documents that the app or external tools can render or export). That path does not depend on Ollama image APIs and can be implemented independently.

## Implementation Details

### Features
- **Image Generation** - Display images generated by the LLM in the chat view
- **Image Formats** - Support for SVG and raster images (PNG, JPEG, etc.)
- **PDF Support** - Handle PDF documents, send data, display in chat
- **Image Manipulation** - Basic image manipulation capabilities
- **Chat View Integration** - Render images inline in chat messages

### Image Display
- Render SVG images in chat view
- Render raster images (PNG, JPEG, etc.) in chat view
- Support for images embedded in messages
- Support for images as separate message attachments
- Image viewer/zoom capabilities

### PDF Support
- Display PDF documents in chat
- Extract images from PDFs
- Send PDF data to LLM
- PDF rendering in chat view

### Image Manipulation
- Basic image operations (resize, crop, etc.)
- Image format conversion
- Image editing capabilities

### Use Cases
- LLM generates images (SVG diagrams, charts, etc.)
- Display generated images in chat
- Share images in conversations
- Work with PDF documents
- Manipulate images as part of workflow

### Files to Create/Modify
- Image rendering components for ChatView
- SVG renderer integration
- Image viewer widget
- PDF renderer/viewer
- Image manipulation utilities
- Tool integration for image generation (if needed)

### Implementation Notes
- Research GTK4 image rendering capabilities
- SVG rendering (possibly using librsvg or similar)
- PDF rendering (possibly using poppler or similar)
- Design image display in chat message flow
- Handle image data in message format
- Consider image caching/storage
- Support for both embedded and referenced images
